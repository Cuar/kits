<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      .main {
        width: 1200px;
        margin: 0 auto;
      }

      ul {
        list-style: none;
        max-width: 300px;
        background-color: #000;
        padding: 4px;
      }

      li {
        margin-top: 4px;
        padding-left: 10px;
      }

      a {
        color: #fff;
        text-decoration: none;
        border-bottom: 1px dashed #fff;
        font-size: 24px;
      }

      a::before {
        content: "☆";
      }

      .hide {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="main">
      <div class="nav"></div>
    </div>
  </body>
  <script>
    let navData = [
      { id: 1, text: "一级菜单A", parentId: null },
      { id: 2, text: "一级菜单B", parentId: null },
      { id: 3, text: "一级菜单C", parentId: null },
      { id: 4, text: "二级菜单AA", parentId: 1 },
      { id: 5, text: "二级菜单AB", parentId: 1 },
      { id: 6, text: "二级菜单AC", parentId: 1 },
      { id: 7, text: "二级菜单BA", parentId: 2 },
      { id: 8, text: "二级菜单BB", parentId: 2 },
      { id: 9, text: "二级菜单BC", parentId: 2 },
      { id: 10, text: "二级菜单CA", parentId: 3 },
      { id: 11, text: "二级菜单CB", parentId: 3 },
      { id: 12, text: "二级菜单CC", parentId: 3 },
      { id: 13, text: "三级菜单AAA", parentId: 4 },
      { id: 14, text: "三级菜单BAA", parentId: 7 },
      { id: 15, text: "三级菜单CAA", parentId: 10 }
    ];

    // 根据 parentId 是否等 于另外一个对象id 如果相等就 放入同一个数组
    function makeTree(arr, pId) {
      let temp = [];
      for (let i = 0; i < arr.length; i++) {
        if (arr[i].parentId === pId) {
          temp.push(arr[i]);
          //生成多级
          arr[i].children = makeTree(arr, arr[i].id);
        }
      }
      return temp;
    }
    let tree = makeTree(navData, null);
    console.log(tree);

    // 2 根据树形结构把多级菜单动态生成
    let nav = document.querySelector(".nav");
    //封装
    function makeElement(arr, parentNode) {
      //获取元素
      let ul1 = document.createElement("ul");
      //隐藏
      ul1.classList.add("hide");
      //动态生成
      for (let i = 0; i < arr.length; i++){
        let li =document.createElement('li');
        li.innerHTML=` `
      }
    }
    // 把第一层的ul的hide类名去除
  </script>
</html>
